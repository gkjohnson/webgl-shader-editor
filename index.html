<!DOCTYPE html>
<html>
<head>
    <title></title>

    <script src="./node_modules/@webcomponents/webcomponentsjs/webcomponents-lite.js"></script>
    <script src="./node_modules/ace-builds/src-min/ace.js"></script>
    <script src="./node_modules/three/build/three.min.js"></script>

    <link rel="import" href="./node_modules/@polymer/polymer/polymer-element.html" />
    <link rel="import" href="./elements/ace-editor.html" />

    <style type="text/css">
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        ace-editor {
            height: 100%;
        }
    </style>
</head>
<body>
    <ace-editor>// http://blog.cjgammon.com/threejs-custom-shader-material
// Vertex Shader
attribute float vertexDisplacement;
uniform float delta;
varying float vOpacity;
varying vec3 vUv;

void main() 
{
    vUv = position;
    vOpacity = vertexDisplacement;

    vec3 p = position;

    p.x += sin(vertexDisplacement) * 50.0;
    p.y += cos(vertexDisplacement) * 50.0;

    vec4 modelViewPosition = modelViewMatrix * vec4(p, 1.0);
    gl_Position = projectionMatrix * modelViewPosition;
}

// Fragment Shader
uniform float delta;
varying float vOpacity;
varying vec3 vUv;

void main() {

    float r = 1.0 + cos(vUv.x * delta);
    float g = 0.5 + sin(delta) * 0.5;
    float b = 0.0;
    vec3 rgb = vec3(r, g, b);

    gl_FragColor = vec4(rgb, vOpacity);
}
    </ace-editor>
</body>
</html>